

task clearData(type: Exec) {
    def clearDataCommand = ['adb', 'shell', 'pm', 'clear', 'security.pEp.debug']
    commandLine clearDataCommand
}

task setAccount(type: Exec) {
    dependsOn clearData
    def setupAccountCommand = ['adb', 'shell', 'am', 'instrument', '-w', '-r' ,'-e', 'debug', 'false', '-e',
                            'class', 'com.fsck.k9.helper.SetupAccountsTask#setupAccounts',
                            'com.fsck.k9.pEp.ui.activities.test/androidx.test.runner.AndroidJUnitRunner']
    commandLine setupAccountCommand
}

task setupAccount() {
    dependsOn setAccount
}
